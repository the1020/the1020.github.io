---
title: ğŸ“¸ 2022-07-28
author: ì˜ˆì€
date: 2022-07-28 18:23:00 +0900
categories: [TIL]
tags: [REACT]
subtitle: [7ì›” 28ì¼ ë°°ìš°ê³  ì½ì€ ê²ƒ]
---

## ğŸ”¥ ì˜¤ëŠ˜ ì–´ë””ì— ë„ì „í•´ë³´ì…¨ê³ , ë¬´ì—‡ì„ ë°°ìš°ì…¨ë‚˜ìš”?

- Reactì˜ `useContext` ì‚¬ìš©ë²• ([ì°¸ê³ ](https://ko.reactjs.org/docs/context.html))

## ğŸŒŠ í•™ìŠµí•˜ì‹œë©´ì„œ ê¶ê¸ˆí•˜ì‹  ë¶€ë¶„ì´ë‚˜, ì–´ë ¤ì› ë˜ ì ì€ ë­˜ê¹Œìš”?

- [ì£¼ì˜ì‚¬í•­](https://ko.reactjs.org/docs/context.html#caveats)ì— Providerì˜ value propì´ ë°”ë€Œë©´ ë§¤ë²ˆ ìƒˆë¡œìš´ ê°ì²´ê°€ ìƒì„±ë˜ë¯€ë¡œ Providerê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ í•˜ìœ„ì˜ ì»´í¬ë„ŒíŠ¸ê°€ ëª¨ë‘ ë¦¬ë Œë”ë§ëœë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” stateë¡œ ëŒì–´ì˜¬ë¦¬ê³  ê·¸ state ê°’ì„ value propìœ¼ë¡œ ì „ë‹¬í•œë‹¤.

  ```javascript
  Object.is({ a: "1" }, { a: "1" }); //false

  const obj = { a: "1" };
  Object.is(obj, obj); // true
  ```

  ê°ì²´ ë‚´ë¶€ ë°ì´í„°ëŠ” ë™ì¼í•˜ë”ë¼ë„ ê°ê° ìƒˆë¡œìš´ ê°ì²´ê°€ ìƒì„±ë˜ì–´ ë‹¤ë¥¸ ê°ì²´ë¡œ ì¸ì‹í•œë‹¤.

  Providerì˜ value propì—ë„ ê°ì²´ë¥¼ ì „ë‹¬í•˜ë©´ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ê°ì²´ë¡œ ì¸ì‹ë˜ê¸° ë•Œë¬¸ì— ê°ì²´ë¥¼ ë”°ë¡œ ì €ì¥í•œ í›„ì— ê·¸ ê°’ì„ value propìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

## ğŸŒŸ ë‚´ì¼ì€ ì–´ë–»ê²Œ í•´ë³´ê³  ì‹¶ìœ¼ì„¸ìš”?

- [ ] ìœ ë°ë¯¸ ë¦¬ì•¡íŠ¸ ê°•ì˜ 122 ~ 128ê¹Œì§€ ìˆ˜ê°•í•˜ê¸° (context ì‹¬í™”)

---

## Reactì˜ Context

- contextëŠ” ë¦¬ì•¡íŠ¸ ë‚´ë¶€ì—ì„œ ì „ì—­ì ìœ¼ë¡œ stateë¥¼ ê´€ë¦¬í•˜ëŠ” ì €ì¥ì†Œ ê°œë…ì´ë‹¤.
- contextë¥¼ ì´ìš©í•˜ë©´ ë‹¨ê³„ë§ˆë‹¤ ì¼ì¼ì´ propsë¥¼ ë„˜ê²¨ì£¼ì§€ ì•Šê³ (=prop chainì„ êµ¬ì¶•í•˜ì§€ ì•Šê³ ë„) ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì „ì²´ì— ë°ì´í„°ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.
- `React.createContext`ë¡œ Context ê°ì²´ë¥¼ ë§Œë“¤ê³ , `Context.Provider`ë¡œ contextë¥¼ ì‚¬ìš©í•  ì»´í¬ë„ŒíŠ¸ì˜ ë²”ìœ„ë¥¼ ì •í•˜ì—¬ ë¦¬ì•¡íŠ¸ì—ê²Œ ì•Œë ¤ì£¼ê³  ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸ë“¤ì—ê²ŒëŠ” contextì˜ ë³€í™”ë¥¼ ì•Œë¦°ë‹¤.
- `Context.Provider` ë‚´ë¶€ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ê°€ í•´ë‹¹ contextì˜ ë°ì´í„°ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œëŠ” `Context.Consumer` ë˜ëŠ” `useContext`ë¥¼ ì‚¬ìš©í•œë‹¤.

1. `React.createContext`

   ```javascript
   const MyContext = React.createContext(defaultValue);
   ```

   ì „ì—­ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ì‹¶ì€ ë°ì´í„°ë¥¼ `defaultValue` ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•œë‹¤.

2. `Context.Provider`

   ```javascript
   const App = () => {
     return (
       <MyContext.Provider value={providedValue}>
         <Toolbar />
       </MyContext.Provider>
     );
   };
   ```

   `Provider` ì»´í¬ë„ŒíŠ¸ì—ëŠ” `value`ë¼ëŠ” propì„ ì „ë‹¬í•´ì£¼ëŠ”ë° ì´ ê°’ì´ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤ì—ê²Œ ì „ë‹¬ë˜ê³  ì´ `value` propì´ ë³€í•  ë•Œë§ˆë‹¤ ë¦¬ë Œë”ë§ëœë‹¤.

   ìœ„ ì½”ë“œì—ì„œ `Toolbar` ì»´í¬ë„ŒíŠ¸ëŠ” `MyContext.Provider` ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ìœ„ì¹˜í•˜ë¯€ë¡œ `MyContext.Provider`ì— ì „ë‹¬ë˜ëŠ” `value` propì´ ë³€í•  ë•Œë§ˆë‹¤ ë¦¬ë Œë”ë§ëœë‹¤.

   > âš ï¸ `React.createContext`ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•œ `defaultValue`ëŠ” `Provider`ë¥¼ ì°¾ì§€ ëª»í–ˆì„ ë•Œë§Œ ì“°ì´ëŠ” ê°’ì´ë‹¤.

3. `Context.Consumer`

   ```javascript
   const Toolbar = () => {
       return <MyContext.Consumer>
       {(ctx) => {
        return (<ul>{...}</ul>)
       }}
       </MyContext.Consumer>
   }
   ```

   Consumer ì»´í¬ë„ŒíŠ¸ì˜ ìì‹ì€ **í•¨ìˆ˜**ì—¬ì•¼ í•œë‹¤. ì´ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°ëŠ” contextì˜ í˜„ì¬ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤. ì—¬ê¸°ì„œ `ctx`ëŠ” `providedValue`ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

4. `useContext`

   ```javascript
   const Toolbar = () => {
       const ctx = useContext(MyContext);
       return <ul>{...}</ul>
   }
   ```

   `MyContext.Consumer`ì™€ ë§ˆì°¬ê°€ì§€ë¡œ `MyContext.Provider` ë‚´ë¶€ì—ì„œ `useContext` í›…ìœ¼ë¡œ contextì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
