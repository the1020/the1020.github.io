---
title: 프로그래머스 표 병합 - 자바스크립트
author: 예은
date: 2023-01-15 15:06:25 +0900
categories: [코딩테스트]
tags: [코테, 프로그래머스]
subtitle: [
    당신은 표 편집 프로그램을 작성하고 있습니다.
    표의 크기는 50 × 50으로 고정되어있고 초기에 모든 셀은 비어 있습니다.
    각 셀은 문자열 값을 가질 수 있고,

    다른 셀과 병합될 수 있습니다.,
  ]
---

## 📄 문제

[프로그래머스 > 2023 KAKAO BLIND RECRUITMENT > 표 병합](https://school.programmers.co.kr/learn/courses/30/lessons/150366)

### 구현해야 하는 것은

## 🏹 코드

```javascript
function solution(commands) {
  const answer = [];
  const arr = Array.from({ length: 51 }, () => new Array(51));

  for (let i = 1; i <= 50; i++) {
    for (let j = 1; j <= 50; j++) {
      arr[i][j] = initCell(i, j);
    }
  }

  function initCell(r, c) {
    return {
      _value: "EMPTY",
      _pointer: `${r},${c}`,
      get value() {
        return this._value;
      },
      set value(value) {
        this._value = value;
      },
      get pointer() {
        return this._pointer;
      },
      set pointer(pointer) {
        this._pointer = pointer;
      },
    };
  }

  function update_1(r, c, value) {
    for (let i = 1; i <= 50; i++) {
      for (let j = 1; j <= 50; j++) {
        if (arr[i][j].pointer === arr[r][c].pointer) arr[i][j].value = value;
      }
    }
  }

  function update_2(value1, value2) {
    for (let i = 1; i <= 50; i++) {
      for (let j = 1; j <= 50; j++) {
        if (arr[i][j].value === value1) arr[i][j].value = value2;
      }
    }
  }

  function merge(r1, c1, r2, c2) {
    let new_value = "";
    if (arr[r1][c1].value === "EMPTY" && arr[r2][c2].value !== "EMPTY") {
      new_value = arr[r2][c2].value;
      [r1, c1, r2, c2] = [r2, c2, r1, c1];
    } else {
      new_value = arr[r1][c1].value;
    }

    let change_pointer = arr[r2][c2].pointer;
    for (let i = 1; i <= 50; i++) {
      for (let j = 1; j <= 50; j++) {
        if (arr[i][j].pointer === change_pointer) {
          arr[i][j].pointer = arr[r1][c1].pointer;
          arr[i][j].value = new_value;
        }
      }
    }
  }

  function unmerge(r, c) {
    let value = arr[r][c].value;
    let change_pointer = arr[r][c].pointer;

    for (let i = 1; i <= 50; i++) {
      for (let j = 1; j <= 50; j++) {
        if (arr[i][j].pointer === change_pointer) {
          arr[i][j].pointer = `${i},${j}`;
          arr[i][j].value = "EMPTY";
        }
      }
    }

    arr[r][c].value = value;
  }

  function print(r, c) {
    for (let i = 1; i <= 50; i++) {
      for (let j = 1; j <= 50; j++) {
        if (i === +r && j === +c) answer.push(arr[i][j].value);
      }
    }
  }

  commands.forEach((command) => {
    const [cmd, option1, option2, option3, option4] = command.split(" ");
    switch (cmd) {
      case "UPDATE":
        if (option3) {
          update_1(option1, option2, option3);
        } else {
          update_2(option1, option2);
        }
        break;
      case "MERGE":
        merge(option1, option2, option3, option4);
        break;
      case "UNMERGE":
        unmerge(option1, option2);
        break;
      case "PRINT":
        print(option1, option2);
        break;
    }
  });

  return answer;
}
```
